<!DOCTYPE html>
<html>

	<head>
		<title></title>
		<meta charset="utf-8">
	</head>
	<script type="text/javascript">
		window.onload = function() {
			var colorSelect = document.getElementById('colorSelect');
			var numberInput = document.getElementById('numberInput');
			var colorInfo = document.getElementById('colorInfo');
			var numberInfo = document.getElementById('numberInfo');
			var nextBtn = document.getElementById('nextBtn');
			var goods = {
				"red": 3,
				"blue": 6
			};

			colorSelect.onchange = function() {
				var
					color = this.value,
					number = numberInput.value,
					stock = goods[color];

				colorInfo.innerHTML = color;
				if(!color) {
					nextBtn.disabled = true;
					nextBtn.innerHTML = '请选择手机颜色';
					return;
				}
				if(number <= 0 || typeof(number) != 'number') {
					nextBtn.disabled = true;
					nextBtn.innerHTML = '请输入正确的购买数量';
					return;
				}
				if(number > stock) {
					nextBtn.disabled = true;
					nextBtn.innerHTML = '库存不足';
					return;
				}
				nextBtn.disabled = false;
				nextBtn.innerHTML = '放入购物车';

			};
			numberInput.oninput = function(){
				number = numberInput.value;
				numberInfo.innerHTML = number;
			};
		};
	</script>

	<body>
		选择颜色：
		<select id="colorSelect">
			<option value="">请选择</option>
			<option value="red">红色</option>
			<option value="blue">蓝色</option>
		</select>
		购买数量：<input type="text" id="numberInput">
		<br> 您选择了颜色：
		<div id="colorInfo"></div>
		<br> 您输入了数量：
		<div id="numberInfo"></div>
		<br>
		<button id="nextBtn" disabled="true">请输入</button>
	</body>

</html>